{% extends "base.html" %}
{% load static %}

{% block title %}Registro - Sistema Agrointeligente{% endblock %}

{% block extra_css %}
<!-- Estilos personalizados para formularios de autenticaciÃ³n -->
<link rel="stylesheet" href="{% static 'css/auth.css' %}">
{% endblock %}

{% block content %}
<div class="auth-container">
  <div class="auth-card">
    <h2 class="auth-title">Crea tu cuenta ğŸŒ±</h2>
    <p class="auth-subtitle">Accede al sistema ADSO del SENA</p>

    <!-- Formulario de registro -->
    <form method="post" class="auth-form">
      {% csrf_token %}

      {% if form.errors %}
      <div class="alert alert-error">
        Revisa los campos. Algunos datos no son vÃ¡lidos.
      </div>
      {% endif %}

      <!-- Campo correo electrÃ³nico -->
      <div class="form-group">
        <label for="id_email">Correo ElectrÃ³nico</label>
        <input type="email" name="email" id="id_email" placeholder="usuario@sena.edu.co" required>
      </div>

      <!-- ContraseÃ±a y confirmaciÃ³n -->
      <div class="form-group">
        <label for="id_password1">ContraseÃ±a</label>
        <input type="password" name="password1" id="id_password1" placeholder="********" required>
      </div>

      <div class="form-group">
        <label for="id_password2">Confirmar ContraseÃ±a</label>
        <input type="password" name="password2" id="id_password2" placeholder="********" required>
      </div>

      <!-- Nombre completo -->
      <div class="form-group">
        <label for="id_nombre_completo">Nombre completo</label>
        <input type="text" name="nombre_completo" id="id_nombre_completo" placeholder="Juan PÃ©rez" required>
      </div>

      <!-- AceptaciÃ³n de tÃ©rminos -->
      <div class="form-check">
        <input type="checkbox" id="id_terms" required>
        <label for="id_terms">Acepto los tÃ©rminos y condiciones</label>
      </div>

      <!-- BotÃ³n de envÃ­o -->
      <button type="submit" class="btn btn-primary btn-block">Registrarse</button>
    </form>

    <!-- Enlace para usuarios existentes -->
    <div class="auth-footer">
      Â¿Ya tienes cuenta? <a href="{% url 'login' %}">Inicia sesiÃ³n aquÃ­</a>
    </div>
  </div>
</div>
{% endblock %}

{% block javascript %}
<!-- Script para mostrar/ocultar contraseÃ±as (a futuro, agregar clase 'toggle-password' si se desea usar) -->
<script>
  document.addEventListener('DOMContentLoaded', function () {
    const toggleBtns = document.querySelectorAll('.toggle-password');
    toggleBtns.forEach(btn => {
      const input = btn.previousElementSibling;
      btn.addEventListener('click', function () {
        const type = input.getAttribute('type') === 'password' ? 'text' : 'password';
        input.setAttribute('type', type);
        this.textContent = type === 'password' ? 'ğŸ‘ï¸' : 'ğŸ‘ï¸â€ğŸ—¨ï¸';
      });
    });
  });
</script>
{% endblock %}
