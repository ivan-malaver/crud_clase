{% extends "base.html" %}
{% load static %}

{% block title %}Registro - Sistema Agrointeligente{% endblock %}

{% block extra_css %}
<!-- Estilos personalizados para formularios de autenticación -->
<link rel="stylesheet" href="{% static 'css/auth.css' %}">
{% endblock %}

{% block content %}
<div class="auth-container">
  <div class="auth-card">
    <h2 class="auth-title">Crea tu cuenta 🌱</h2>
    <p class="auth-subtitle">Accede al sistema ADSO del SENA</p>

    <!-- Formulario de registro -->
    <form method="post" class="auth-form">
      {% csrf_token %}

      {% if form.errors %}
      <div class="alert alert-error">
        Revisa los campos. Algunos datos no son válidos.
      </div>
      {% endif %}

      <!-- Campo correo electrónico -->
      <div class="form-group">
        <label for="id_email">Correo Electrónico</label>
        <input type="email" name="email" id="id_email" placeholder="usuario@sena.edu.co" required>
      </div>

      <!-- Contraseña y confirmación -->
      <div class="form-group">
        <label for="id_password1">Contraseña</label>
        <input type="password" name="password1" id="id_password1" placeholder="********" required>
      </div>

      <div class="form-group">
        <label for="id_password2">Confirmar Contraseña</label>
        <input type="password" name="password2" id="id_password2" placeholder="********" required>
      </div>

      <!-- Nombre completo -->
      <div class="form-group">
        <label for="id_nombre_completo">Nombre completo</label>
        <input type="text" name="nombre_completo" id="id_nombre_completo" placeholder="Juan Pérez" required>
      </div>

      <!-- Aceptación de términos -->
      <div class="form-check">
        <input type="checkbox" id="id_terms" required>
        <label for="id_terms">Acepto los términos y condiciones</label>
      </div>

      <!-- Botón de envío -->
      <button type="submit" class="btn btn-primary btn-block">Registrarse</button>
    </form>

    <!-- Enlace para usuarios existentes -->
    <div class="auth-footer">
      ¿Ya tienes cuenta? <a href="{% url 'login' %}">Inicia sesión aquí</a>
    </div>
  </div>
</div>
{% endblock %}

{% block javascript %}
<!-- Script para mostrar/ocultar contraseñas (a futuro, agregar clase 'toggle-password' si se desea usar) -->
<script>
  document.addEventListener('DOMContentLoaded', function () {
    const toggleBtns = document.querySelectorAll('.toggle-password');
    toggleBtns.forEach(btn => {
      const input = btn.previousElementSibling;
      btn.addEventListener('click', function () {
        const type = input.getAttribute('type') === 'password' ? 'text' : 'password';
        input.setAttribute('type', type);
        this.textContent = type === 'password' ? '👁️' : '👁️‍🗨️';
      });
    });
  });
</script>
{% endblock %}
